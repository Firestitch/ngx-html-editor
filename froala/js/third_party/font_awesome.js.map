/*!
 * froala_editor v3.2.1 (https://www.froala.com/wysiwyg-editor)
 * License https://froala.com/wysiwyg-editor/terms/
 * Copyright 2014-2020 Froala Labs
 */

{"version":3,"file":"font_awesome.js","sources":["../../../src/js/third_party/font_awesome.js"],"sourcesContent":["import FE from '../index.js'\r\n\r\nObject.assign(FE.DEFAULTS, {\r\n  fontAwesomeTemplate: '<i class=\"fa fa-[NAME] fr-deletable\" aria-hidden=\"true\"></i>',\r\n  fontAwesomeSets: [\r\n    {\r\n      title: 'Web Application Icons',\r\n      icon: 'address-book',\r\n      list: ['address-book', 'address-book-o', 'address-card', 'address-card-o', 'adjust', 'american-sign-language-interpreting', 'anchor', 'archive', 'area-chart', 'arrows', 'arrows-h', 'arrows-v', 'asl-interpreting ', 'assistive-listening-systems', 'asterisk', 'at', 'audio-description', 'automobile ', 'balance-scale', 'ban', 'bank ', 'bar-chart', 'bar-chart-o ', 'barcode', 'bars', 'bath', 'bathtub ', 'battery ', 'battery-0 ', 'battery-1 ', 'battery-2 ', 'battery-3 ', 'battery-4 ', 'battery-empty', 'battery-full', 'battery-half', 'battery-quarter', 'battery-three-quarters', 'bed', 'beer', 'bell', 'bell-o', 'bell-slash', 'bell-slash-o', 'bicycle', 'binoculars', 'birthday-cake', 'blind', 'bluetooth', 'bluetooth-b', 'bolt', 'bomb', 'book', 'bookmark', 'bookmark-o', 'braille', 'briefcase', 'bug', 'building', 'building-o', 'bullhorn', 'bullseye', 'bus', 'cab ', 'calculator', 'calendar', 'calendar-check-o', 'calendar-minus-o', 'calendar-o', 'calendar-plus-o', 'calendar-times-o', 'camera', 'camera-retro', 'car', 'caret-square-o-down', 'caret-square-o-left', 'caret-square-o-right', 'caret-square-o-up', 'cart-arrow-down', 'cart-plus', 'cc', 'certificate', 'check', 'check-circle', 'check-circle-o', 'check-square', 'check-square-o', 'child', 'circle', 'circle-o', 'circle-o-notch', 'circle-thin', 'clock-o', 'clone', 'close ', 'cloud', 'cloud-download', 'cloud-upload', 'code', 'code-fork', 'coffee', 'cog', 'cogs', 'comment', 'comment-o', 'commenting', 'commenting-o', 'comments', 'comments-o', 'compass', 'copyright', 'creative-commons', 'credit-card', 'credit-card-alt', 'crop', 'crosshairs', 'cube', 'cubes', 'cutlery', 'dashboard ', 'database', 'deaf', 'deafness ', 'desktop', 'diamond', 'dot-circle-o', 'download', 'drivers-license ', 'drivers-license-o ', 'edit ', 'ellipsis-h', 'ellipsis-v', 'envelope', 'envelope-o', 'envelope-open', 'envelope-open-o', 'envelope-square', 'eraser', 'exchange', 'exclamation', 'exclamation-circle', 'exclamation-triangle', 'external-link', 'external-link-square', 'eye', 'eye-slash', 'eyedropper', 'fax', 'feed ', 'female', 'fighter-jet', 'file-archive-o', 'file-audio-o', 'file-code-o', 'file-excel-o', 'file-image-o', 'file-movie-o ', 'file-pdf-o', 'file-photo-o ', 'file-picture-o ', 'file-powerpoint-o', 'file-sound-o ', 'file-video-o', 'file-word-o', 'file-zip-o ', 'film', 'filter', 'fire', 'fire-extinguisher', 'flag', 'flag-checkered', 'flag-o', 'flash ', 'flask', 'folder', 'folder-o', 'folder-open', 'folder-open-o', 'frown-o', 'futbol-o', 'gamepad', 'gavel', 'gear ', 'gears ', 'gift', 'glass', 'globe', 'graduation-cap', 'group ', 'hand-grab-o ', 'hand-lizard-o', 'hand-paper-o', 'hand-peace-o', 'hand-pointer-o', 'hand-rock-o', 'hand-scissors-o', 'hand-spock-o', 'hand-stop-o ', 'handshake-o', 'hard-of-hearing ', 'hashtag', 'hdd-o', 'headphones', 'heart', 'heart-o', 'heartbeat', 'history', 'home', 'hotel ', 'hourglass', 'hourglass-1 ', 'hourglass-2 ', 'hourglass-3 ', 'hourglass-end', 'hourglass-half', 'hourglass-o', 'hourglass-start', 'i-cursor', 'id-badge', 'id-card', 'id-card-o', 'image ', 'inbox', 'industry', 'info', 'info-circle', 'institution ', 'key', 'keyboard-o', 'language', 'laptop', 'leaf', 'legal ', 'lemon-o', 'level-down', 'level-up', 'life-bouy ', 'life-buoy ', 'life-ring', 'life-saver ', 'lightbulb-o', 'line-chart', 'location-arrow', 'lock', 'low-vision', 'magic', 'magnet', 'mail-forward ', 'mail-reply ', 'mail-reply-all ', 'male', 'map', 'map-marker', 'map-o', 'map-pin', 'map-signs', 'meh-o', 'microchip', 'microphone', 'microphone-slash', 'minus', 'minus-circle', 'minus-square', 'minus-square-o', 'mobile', 'mobile-phone ', 'money', 'moon-o', 'mortar-board ', 'motorcycle', 'mouse-pointer', 'music', 'navicon ', 'newspaper-o', 'object-group', 'object-ungroup', 'paint-brush', 'paper-plane', 'paper-plane-o', 'paw', 'pencil', 'pencil-square', 'pencil-square-o', 'percent', 'phone', 'phone-square', 'photo ', 'picture-o', 'pie-chart', 'plane', 'plug', 'plus', 'plus-circle', 'plus-square', 'plus-square-o', 'podcast', 'power-off', 'print', 'puzzle-piece', 'qrcode', 'question', 'question-circle', 'question-circle-o', 'quote-left', 'quote-right', 'random', 'recycle', 'refresh', 'registered', 'remove ', 'reorder ', 'reply', 'reply-all', 'retweet', 'road', 'rocket', 'rss', 'rss-square', 's15 ', 'search', 'search-minus', 'search-plus', 'send ', 'send-o ', 'server', 'share', 'share-alt', 'share-alt-square', 'share-square', 'share-square-o', 'shield', 'ship', 'shopping-bag', 'shopping-basket', 'shopping-cart', 'shower', 'sign-in', 'sign-language', 'sign-out', 'signal', 'signing ', 'sitemap', 'sliders', 'smile-o', 'snowflake-o', 'soccer-ball-o ', 'sort', 'sort-alpha-asc', 'sort-alpha-desc', 'sort-amount-asc', 'sort-amount-desc', 'sort-asc', 'sort-desc', 'sort-down ', 'sort-numeric-asc', 'sort-numeric-desc', 'sort-up ', 'space-shuttle', 'spinner', 'spoon', 'square', 'square-o', 'star', 'star-half', 'star-half-empty ', 'star-half-full ', 'star-half-o', 'star-o', 'sticky-note', 'sticky-note-o', 'street-view', 'suitcase', 'sun-o', 'support ', 'tablet', 'tachometer', 'tag', 'tags', 'tasks', 'taxi', 'television', 'terminal', 'thermometer ', 'thermometer-0 ', 'thermometer-1 ', 'thermometer-2 ', 'thermometer-3 ', 'thermometer-4 ', 'thermometer-empty', 'thermometer-full', 'thermometer-half', 'thermometer-quarter', 'thermometer-three-quarters', 'thumb-tack', 'thumbs-down', 'thumbs-o-down', 'thumbs-o-up', 'thumbs-up', 'ticket', 'times', 'times-circle', 'times-circle-o', 'times-rectangle ', 'times-rectangle-o ', 'tint', 'toggle-down ', 'toggle-left ', 'toggle-off', 'toggle-on', 'toggle-right ', 'toggle-up ', 'trademark', 'trash', 'trash-o', 'tree', 'trophy', 'truck', 'tty', 'tv ', 'umbrella', 'universal-access', 'university', 'unlock', 'unlock-alt', 'unsorted ', 'upload', 'user', 'user-circle', 'user-circle-o', 'user-o', 'user-plus', 'user-secret', 'user-times', 'users', 'vcard ', 'vcard-o ', 'video-camera', 'volume-control-phone', 'volume-down', 'volume-off', 'volume-up', 'warning ', 'wheelchair', 'wheelchair-alt', 'wifi', 'window-close', 'window-close-o', 'window-maximize', 'window-minimize', 'window-restore', 'wrench']\r\n    },\r\n    {\r\n      title: 'Accessibility Icons',\r\n      icon: 'american-sign-language-interpreting',\r\n      list: ['american-sign-language-interpreting', 'asl-interpreting ', 'assistive-listening-systems', 'audio-description', 'blind', 'braille', 'cc', 'deaf', 'deafness ', 'hard-of-hearing ', 'low-vision', 'question-circle-o', 'sign-language', 'signing ', 'tty', 'universal-access', 'volume-control-phone', 'wheelchair', 'wheelchair-alt']\r\n    },\r\n    {\r\n      title: 'Hand Icons',\r\n      icon: 'hand-grab-o',\r\n      list: ['hand-grab-o ', 'hand-lizard-o', 'hand-o-down', 'hand-o-left', 'hand-o-right', 'hand-o-up', 'hand-paper-o', 'hand-peace-o', 'hand-pointer-o', 'hand-rock-o', 'hand-scissors-o', 'hand-spock-o', 'hand-stop-o ', 'thumbs-down', 'thumbs-o-down', 'thumbs-o-up', 'thumbs-up']\r\n    },\r\n    {\r\n      title: 'Transportation Icons',\r\n      icon: 'ambulance',\r\n      list: ['ambulance', 'automobile ', 'bicycle', 'bus', 'cab ', 'car', 'fighter-jet', 'motorcycle', 'plane', 'rocket', 'ship', 'space-shuttle', 'subway', 'taxi', 'train', 'truck', 'wheelchair', 'wheelchair-alt']\r\n    },\r\n    {\r\n      title: 'Gender Icons',\r\n      icon: 'genderless',\r\n      list: ['genderless', 'intersex ', 'mars', 'mars-double', 'mars-stroke', 'mars-stroke-h', 'mars-stroke-v', 'mercury', 'neuter', 'transgender', 'transgender-alt', 'venus', 'venus-double', 'venus-mars']\r\n    },\r\n    {\r\n      title: 'Form Control Icons',\r\n      icon: 'check-square',\r\n      list: ['check-square', 'check-square-o', 'circle', 'circle-o', 'dot-circle-o', 'minus-square', 'minus-square-o', 'plus-square', 'plus-square-o', 'square', 'square-o']\r\n    },\r\n    {\r\n      title: 'Payment Icons',\r\n      icon: 'cc-amex',\r\n      list: ['cc-amex', 'cc-diners-club', 'cc-discover', 'cc-jcb', 'cc-mastercard', 'cc-paypal', 'cc-stripe', 'cc-visa', 'credit-card', 'credit-card-alt', 'google-wallet', 'paypal']\r\n    },\r\n    {\r\n      title: 'Chart Icons',\r\n      icon: 'area-chart',\r\n      list: ['area-chart', 'bar-chart', 'bar-chart-o ', 'line-chart', 'pie-chart']\r\n    },\r\n    {\r\n      title: 'Currency Icons',\r\n      icon: 'bitcoin',\r\n      list: ['bitcoin ', 'btc', 'cny ', 'dollar ', 'eur', 'euro ', 'gbp', 'gg', 'gg-circle', 'ils', 'inr', 'jpy', 'krw', 'money', 'rmb ', 'rouble ', 'rub', 'ruble ', 'rupee ', 'shekel ', 'sheqel ', 'try', 'turkish-lira ', 'usd', 'viacoin', 'won ', 'yen']\r\n    },\r\n    {\r\n      title: 'Text Editor Icons',\r\n      icon: 'align-center',\r\n      list: ['align-center', 'align-justify', 'align-left', 'align-right', 'bold', 'chain ', 'chain-broken', 'clipboard', 'columns', 'copy ', 'cut ', 'dedent ', 'eraser', 'file', 'file-o', 'file-text', 'file-text-o', 'files-o', 'floppy-o', 'font', 'header', 'indent', 'italic', 'link', 'list', 'list-alt', 'list-ol', 'list-ul', 'outdent', 'paperclip', 'paragraph', 'paste ', 'repeat', 'rotate-left ', 'rotate-right ', 'save ', 'scissors', 'strikethrough', 'subscript', 'superscript', 'table', 'text-height', 'text-width', 'th', 'th-large', 'th-list', 'underline', 'undo', 'unlink']\r\n    },\r\n    {\r\n      title: 'Brand Icons',\r\n      icon: '500px',\r\n      list: ['500px', 'adn', 'amazon', 'android', 'angellist', 'apple', 'bandcamp', 'behance', 'behance-square', 'bitbucket', 'bitbucket-square', 'bitcoin ', 'black-tie', 'bluetooth', 'bluetooth-b', 'btc', 'buysellads', 'cc-amex', 'cc-diners-club', 'cc-discover', 'cc-jcb', 'cc-mastercard', 'cc-paypal', 'cc-stripe', 'cc-visa', 'chrome', 'codepen', 'codiepie', 'connectdevelop', 'contao', 'css3', 'dashcube', 'delicious', 'deviantart', 'digg', 'dribbble', 'dropbox', 'drupal', 'edge', 'eercast', 'empire', 'envira', 'etsy', 'expeditedssl', 'fa ', 'facebook', 'facebook-f ', 'facebook-official', 'facebook-square', 'firefox', 'first-order', 'flickr', 'font-awesome', 'fonticons', 'fort-awesome', 'forumbee', 'foursquare', 'free-code-camp', 'ge ', 'get-pocket', 'gg', 'gg-circle', 'git', 'git-square', 'github', 'github-alt', 'github-square', 'gitlab', 'gittip ', 'glide', 'glide-g', 'google', 'google-plus', 'google-plus-circle ', 'google-plus-official', 'google-plus-square', 'google-wallet', 'gratipay', 'grav', 'hacker-news', 'houzz', 'html5', 'imdb', 'instagram', 'internet-explorer', 'ioxhost', 'joomla', 'jsfiddle', 'lastfm', 'lastfm-square', 'leanpub', 'linkedin', 'linkedin-square', 'linode', 'linux', 'maxcdn', 'meanpath', 'medium', 'meetup', 'mixcloud', 'modx', 'odnoklassniki', 'odnoklassniki-square', 'opencart', 'openid', 'opera', 'optin-monster', 'pagelines', 'paypal', 'pied-piper', 'pied-piper-alt', 'pied-piper-pp', 'pinterest', 'pinterest-p', 'pinterest-square', 'product-hunt', 'qq', 'quora', 'ra ', 'ravelry', 'rebel', 'reddit', 'reddit-alien', 'reddit-square', 'renren', 'resistance ', 'safari', 'scribd', 'sellsy', 'share-alt', 'share-alt-square', 'shirtsinbulk', 'simplybuilt', 'skyatlas', 'skype', 'slack', 'slideshare', 'snapchat', 'snapchat-ghost', 'snapchat-square', 'soundcloud', 'spotify', 'stack-exchange', 'stack-overflow', 'steam', 'steam-square', 'stumbleupon', 'stumbleupon-circle', 'superpowers', 'telegram', 'tencent-weibo', 'themeisle', 'trello', 'tripadvisor', 'tumblr', 'tumblr-square', 'twitch', 'twitter', 'twitter-square', 'usb', 'viacoin', 'viadeo', 'viadeo-square', 'vimeo', 'vimeo-square', 'vine', 'vk', 'wechat ', 'weibo', 'weixin', 'whatsapp', 'wikipedia-w', 'windows', 'wordpress', 'wpbeginner', 'wpexplorer', 'wpforms', 'xing', 'xing-square', 'y-combinator', 'y-combinator-square ', 'yahoo', 'yc ', 'yc-square ', 'yelp', 'yoast', 'youtube', 'youtube-play', 'youtube-square']\r\n    }\r\n  ],\r\n  faButtons: ['fontAwesomeBack', '|'],\r\n})\r\n\r\nObject.assign(FE.POPUP_TEMPLATES, {\r\n  'fontAwesome': '[_BUTTONS_][_CUSTOM_LAYER_]'\r\n})\r\n\r\nFE.PLUGINS.fontAwesome = function (editor) {\r\n\r\n  const $ = editor.$\r\n\r\n  // Initialize categories with default font awesome data\r\n  let selectedCategory = editor.opts.fontAwesomeSets[0]\r\n  let categories = editor.opts.fontAwesomeSets\r\n  let faButtons = ''\r\n\r\n  /** \r\n   * Initialize the font awesome icons popup \r\n   */\r\n  function _initFaPopup() {\r\n\r\n    if (editor.opts.toolbarInline) {\r\n\r\n      // If toolbar is inline then load font-awesome buttons\r\n      if (editor.opts.faButtons.length > 0) {\r\n        faButtons = `<div class=\"fr-buttons fr-tabs\">${editor.button.buildList(editor.opts.faButtons)}</div>`\r\n      }\r\n    }\r\n\r\n    // Template for popup\r\n    const template = {\r\n      buttons: faButtons,\r\n      custom_layer: _getFaHtml()\r\n    }\r\n\r\n    // Create popup\r\n    const $popup = editor.popups.create('fontAwesome', template)\r\n\r\n    _addAccessibility($popup)\r\n\r\n    return $popup\r\n  }\r\n\r\n  /** \r\n   * HTML for the font awesome popup \r\n   */\r\n  function _getFaHtml() {\r\n    const fa_html = `${_renderCategoryHtml(categories, selectedCategory, editor.opts.fontAwesomeTemplate)}\r\n                     ${_renderFaHtml(selectedCategory, editor.opts.fontAwesomeTemplate)}`\r\n\r\n    return fa_html\r\n  }\r\n\r\n  /** \r\n   * Shows the font awesome popup. \r\n   */\r\n  function _showFaPopup() {\r\n\r\n    let $popup = editor.popups.get('fontAwesome')\r\n\r\n    if (!$popup) $popup = _initFaPopup()\r\n\r\n    if (!$popup.hasClass('fr-active')) {\r\n\r\n      // Font awesome popup.\r\n      editor.popups.refresh('fontAwesome')\r\n      editor.popups.setContainer('fontAwesome', editor.$tb)\r\n\r\n      const $btn = editor.$tb.find('.fr-command[data-cmd=\"fontAwesome\"]')\r\n\r\n      // Font awesome popup left and top position.\r\n      const { left, top } = editor.button.getPosition($btn)\r\n      editor.popups.show('fontAwesome', left, top, $btn.outerHeight())\r\n    }\r\n  }\r\n\r\n  /** \r\n   * Update the category html \r\n   */\r\n  function _refreshPopup() {\r\n    editor.popups.get('fontAwesome').html(faButtons + _getFaHtml())\r\n  }\r\n\r\n  /** \r\n   * Set the selected font awesome category\r\n   */\r\n  function setIconCategory(categoryId) {\r\n    selectedCategory = categories.filter(category => {\r\n      return category.title === categoryId\r\n    })[0]\r\n\r\n    // Refresh popup for updating the popup view\r\n    _refreshPopup()\r\n  }\r\n\r\n  \r\n\r\n  /** \r\n   * Returns the font awesome popup HTML \r\n   */\r\n  function _renderFaHtml(selectedCategory, faTemplate) {\r\n    const faHtml = `\r\n        <div class=\"fr-icon-container fr-fa-container\">\r\n            ${_renderEmoticon(selectedCategory, faTemplate)}\r\n        </div>\r\n        `\r\n    return faHtml\r\n  }\r\n\r\n  /** \r\n   * Register keyboard events \r\n   */\r\n  function _addAccessibility($popup) {\r\n\r\n    // Register popup event.\r\n    editor.events.on('popup.tab', function (e) {\r\n      const $focused_item = $(e.currentTarget)\r\n\r\n      // Skip if popup is not visible or focus is elsewere.\r\n      if (!editor.popups.isVisible('fontAwesome') || !$focused_item.is('span, a')) {\r\n        return true\r\n      }\r\n\r\n      const key_code = e.which\r\n      let status\r\n      let index\r\n      let $el\r\n\r\n      // Tabbing.\r\n      if (FE.KEYCODE.TAB == key_code) {\r\n\r\n        // Extremities reached.\r\n        if (($focused_item.is('span.fr-icon') && e.shiftKey) || ($focused_item.is('a') && !e.shiftKey)) {\r\n          const $tb = $popup.find('.fr-buttons')\r\n\r\n          // Focus back the popup's toolbar if exists.\r\n          status = !editor.accessibility.focusToolbar($tb, (e.shiftKey ? true : false))\r\n        }\r\n\r\n        if (status !== false) {\r\n\r\n          // Build elements that should be focused next.\r\n          let $tabElements = $popup.find('span.fr-icon:focus').first().concat($popup.findVisible(' span.fr-icon').first().concat($popup.find('a')))\r\n\r\n          if ($focused_item.is('span.fr-icon')) {\r\n            $tabElements = $tabElements.not('span.fr-icon:not(:focus)')\r\n          }\r\n\r\n          // Get focused item position.\r\n          index = $tabElements.index($focused_item)\r\n\r\n          // Backwards.\r\n          if (e.shiftKey) {\r\n            index = (((index - 1) % $tabElements.length) + $tabElements.length) % $tabElements.length\r\n\r\n            // Javascript negative modulo bug.\r\n            // Forward.\r\n          }\r\n          else {\r\n            index = (index + 1) % $tabElements.length\r\n          }\r\n\r\n          // Find next element to focus.\r\n          $el = $tabElements.get(index)\r\n\r\n          editor.events.disableBlur()\r\n          $el.focus()\r\n          status = false\r\n        }\r\n      }\r\n\r\n      // Arrows.\r\n      else if (FE.KEYCODE.ARROW_UP == key_code || FE.KEYCODE.ARROW_DOWN == key_code || FE.KEYCODE.ARROW_LEFT == key_code || FE.KEYCODE.ARROW_RIGHT == key_code) {\r\n        if ($focused_item.is('span.fr-icon')) {\r\n\r\n          // Get all current icons.\r\n          const $icons = $focused_item.parent().find('span.fr-icon')\r\n\r\n          // Get focused item position.\r\n          index = $icons.index($focused_item)\r\n\r\n          // Get icons matrix dimensions.\r\n          const columns = 8\r\n          const lines = Math.floor($icons.length / columns)\r\n\r\n          // Get focused item coordinates.\r\n          const column = index % columns\r\n          const line = Math.floor(index / columns)\r\n\r\n          let nextIndex = line * columns + column\r\n          const dimension = lines * columns\r\n\r\n          // Calculate next index. Go to the other opposite site of the matrix if there is no next adjacent element.\r\n          // Up/Down: Traverse matrix lines.\r\n          // Left/Right: Traverse the matrix as it is a vector.\r\n          if (FE.KEYCODE.ARROW_UP == key_code) {\r\n            nextIndex = (((nextIndex - columns) % dimension) + dimension) % dimension // Javascript negative modulo bug.\r\n          }\r\n          else if (FE.KEYCODE.ARROW_DOWN == key_code) {\r\n            nextIndex = (nextIndex + columns) % dimension\r\n          }\r\n          else if (FE.KEYCODE.ARROW_LEFT == key_code) {\r\n            nextIndex = (((nextIndex - 1) % dimension) + dimension) % dimension // Javascript negative modulo bug.\r\n          }\r\n          else if (FE.KEYCODE.ARROW_RIGHT == key_code) {\r\n            nextIndex = (nextIndex + 1) % dimension\r\n          }\r\n\r\n          // Get the next element based on the new index.\r\n          $el = $($icons.get(nextIndex))\r\n\r\n          // Focus.\r\n          editor.events.disableBlur()\r\n          $el.focus()\r\n\r\n          status = false\r\n        }\r\n      }\r\n\r\n      // ENTER or SPACE.\r\n      else if (FE.KEYCODE.ENTER == key_code) {\r\n        if ($focused_item.is('a')) {\r\n          $focused_item[0].click()\r\n        }\r\n        else {\r\n          editor.button.exec($focused_item)\r\n        }\r\n        status = false\r\n      }\r\n\r\n      // Prevent propagation.\r\n      if (status === false) {\r\n        e.preventDefault()\r\n        e.stopPropagation()\r\n      }\r\n\r\n      return status\r\n    }, true)\r\n  }\r\n\r\n  /**\r\n   * Render the emoticon HTML\r\n   */\r\n  function _renderEmoticon(selectedCategory, faTemplate) {\r\n    let icon_html = ''\r\n    \r\n    let i = 0\r\n    selectedCategory.list.forEach(icon => {\r\n      \r\n      const iconMap = { dataParam1: icon, title: icon, iconValue: faTemplate.replace(/\\[NAME\\]/g, icon) }\r\n\r\n      icon_html += `<span class=\"fr-command fr-fa-icon fr-icon\" role=\"button\" data-cmd=\"insertIcon\" data-param1=\"${iconMap.dataParam1}\" title=\"${iconMap.title}\">${iconMap.iconValue}</span>`\r\n      i++\r\n    })\r\n\r\n    return icon_html\r\n  }\r\n\r\n  /** \r\n   * Returns the Category HTML \r\n   */\r\n  function _renderCategoryHtml(categories, selectedCategory, faTemplate) {\r\n    const categoryHtml = `\r\n        <div class=\"fr-buttons fr-tabs fr-tabs-scroll\">\r\n            ${_renderCategory(categories, selectedCategory, faTemplate)}\r\n        </div>\r\n        `\r\n    return categoryHtml\r\n  }\r\n\r\n  /** \r\n   * Render the category to html \r\n   */\r\n  function _renderCategory(categories, selectedCategory, faTemplate) {\r\n    let buttonHtml = ''\r\n    \r\n    categories.forEach(category => {\r\n      const buttonMap = {\r\n        elementClass: category.title === selectedCategory.title ? 'fr-active fr-active-tab' : '',\r\n        title: category.title,\r\n        dataCmd: 'setIconCategory',\r\n        dataParam1: category.title,\r\n        iconValue: faTemplate.replace(/\\[NAME\\]/g, category.icon)\r\n      }\r\n\r\n      buttonHtml += `<button class=\"fr-fa-icon-category fr-command fr-btn ${buttonMap.elementClass}\" title=\"${buttonMap.title}\" data-cmd=\"${buttonMap.dataCmd}\" data-param1=\"${buttonMap.dataParam1}\"</button><span>${buttonMap.iconValue}</span>`\r\n    })\r\n\r\n    return buttonHtml\r\n  }\r\n\r\n  /*\r\n    * Go back to the inline editor.\r\n  */\r\n function back() {\r\n  editor.popups.hide('fontAwesome')\r\n  editor.toolbar.showInline()\r\n}\r\n\r\n  return {\r\n    setIconCategory: setIconCategory,\r\n    showFontAwesomePopup: _showFaPopup,\r\n    back: back\r\n  }\r\n}\r\n\r\nFE.DefineIcon('fontAwesome', {\r\n  NAME: 'flag',\r\n  SVG_KEY: 'fontAwesome' \r\n})\r\n\r\nFE.RegisterCommand('fontAwesome', {\r\n  title: 'Font Awesome',\r\n  icon: 'fontAwesome',\r\n  undo: false,\r\n  focus: false,\r\n  refreshAfterCallback: false,\r\n  popup: true,\r\n  callback: function () {\r\n    if (!this.popups.isVisible('fontAwesome')) {\r\n      this.fontAwesome.showFontAwesomePopup()\r\n    } else {\r\n      if (this.$el.find('.fr-marker')) {\r\n        this.events.disableBlur()\r\n        this.selection.restore()\r\n      }\r\n\r\n      this.popups.hide('fontAwesome')\r\n    }\r\n  },\r\n  plugin: 'fontAwesome',\r\n  showOnMobile: true\r\n})\r\n\r\nFE.RegisterCommand('insertIcon', {\r\n  callback(cmd, icon) {\r\n\r\n    // Insert font awesome icons\r\n    this.undo.saveStep()\r\n    this.html.insert(`${this.opts.fontAwesomeTemplate.replace(/\\[NAME\\]/g, icon)}&nbsp;`)\r\n    this.undo.saveStep()\r\n\r\n    this.popups.hide('fontAwesome')\r\n  }\r\n})\r\n\r\nFE.RegisterCommand('setIconCategory', {\r\n  undo: false,\r\n  focus: false,\r\n  callback(cmd, category) {\r\n    this.fontAwesome.setIconCategory(category)\r\n  }\r\n})\r\n\r\nFE.DefineIcon('fontAwesomeBack', { NAME: 'arrow-left', SVG_KEY: 'back' })\r\nFE.RegisterCommand('fontAwesomeBack', {\r\n  title: 'Back',\r\n  undo: false,\r\n  focus: false,\r\n  back: true,\r\n  refreshAfterCallback: false,\r\n  callback: function () {\r\n    this.fontAwesome.back()\r\n  }\r\n})\r\n"],"names":["Object","assign","FE","DEFAULTS","fontAwesomeTemplate","fontAwesomeSets","title","icon","list","faButtons","POPUP_TEMPLATES","PLUGINS","fontAwesome","editor","$","selectedCategory","opts","categories","_initFaPopup","toolbarInline","length","button","buildList","template","buttons","custom_layer","_getFaHtml","$popup","popups","create","_addAccessibility","fa_html","_renderCategoryHtml","_renderFaHtml","_showFaPopup","get","hasClass","refresh","setContainer","$tb","$btn","find","getPosition","left","top","show","outerHeight","_refreshPopup","html","setIconCategory","categoryId","filter","category","faTemplate","faHtml","_renderEmoticon","events","on","e","$focused_item","currentTarget","isVisible","is","key_code","which","status","index","$el","KEYCODE","TAB","shiftKey","accessibility","focusToolbar","$tabElements","first","concat","findVisible","not","disableBlur","focus","ARROW_UP","ARROW_DOWN","ARROW_LEFT","ARROW_RIGHT","$icons","parent","columns","lines","Math","floor","column","line","nextIndex","dimension","ENTER","click","exec","preventDefault","stopPropagation","icon_html","forEach","iconMap","dataParam1","iconValue","replace","i","categoryHtml","_renderCategory","buttonHtml","buttonMap","elementClass","dataCmd","back","hide","toolbar","showInline","showFontAwesomePopup","DefineIcon","NAME","SVG_KEY","RegisterCommand","undo","refreshAfterCallback","popup","callback","selection","restore","plugin","showOnMobile","cmd","saveStep","insert"],"mappings":"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"}